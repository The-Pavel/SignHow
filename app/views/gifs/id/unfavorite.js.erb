function refreshForm(innerHTML) {
  const newUnfavoriteForm = document.getElementById('new_unfavorite');
  newUnfavoriteForm.innerHTML = innerHTML;
}

function addUnfavorite(unfavoriteHTML) {
  const unfavorites = document.getElementById('unfavorites');
  unfavorites.insertAdjacentHTML('beforeend', unfavoriteHTML);
}

<% if @unfavorite.errors.any? %>
  refreshForm('<%= j render "unfavorites/form", gif: @gif, unfavorite: @unfavorite %>');
<% else %>
  addUnfavorite('<%= j render "unfavorites/show", unfavorite: @unfavorite %>');
  refreshForm('<%= j render "unfavorites/form", gif: @gif, unfavorite: Unfavorite.new %>');
<% end %>
